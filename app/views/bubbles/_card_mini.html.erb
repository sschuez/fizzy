<div class="card card--mini shadow flex gap position-relative txt-align-start full-width border-radius">
  <%= avatar_image_tag bubble.creator, loading: :lazy, class: "avatar" %>

  <div class="card__body flex flex-column gap-half full-width flex-item-grow min-width max-width">
    <h3 class="card__title">
      <%= bubble.title %>
    </h3>
    <div class="txt-small overflow-ellipsis txt-uppercase"><%= "Added to #{bubble.bucket.name} by #{bubble.creator.name}" %> <%= 
        days = (Date.current - bubble.created_at.to_date).to_i
        case days
        when 0 then "today"
        when 1 then "yesterday"
        else "#{days} days ago".html_safe
        end
      %></div>
    <div class="card__stuff flex align-center gap">
      <%= render "bubbles/assignees", bubble: bubble %> 
      <div class="overflow-ellipsis"><%= render "bubbles/tags", bubble: bubble %></div>
    </div>
  </div>

  <%= link_to bucket_bubble_path(bubble.bucket, bubble), class: "card__link" do %>
    <span class="for-screen-reader"><%= bubble_title(bubble) %></span>
  <% end %>
</div>